<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./landing.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anek+Devanagari:wght@100..800&family=DM+Serif+Text:ital@0;1&family=Josefin+Slab:ital,wght@0,100..700;1,100..700&family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poetsen+One&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
   
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body class="body">

    <button style="margin-left: 90%; margin-top: 1%; color: rgb(14, 9, 9); background-color: rgb(223, 219, 214);" class="btn" type="button" onclick="logout()">Logout</button>
    <h1 style="font-size:30px;">WELCOME USER <br> Online Banking Services</h1><br><br>
    <img style="width: 70%; margin-left: 12%;" src="https://freepngimg.com/thumb/online_banking/165363-banking-hd-image-free.png" alt="">
    <div class="deposit">
        <h3 style="text-align: center;">DEPOSIT</h3>
        <input type="text" id="Amount1" placeholder="Enter Your Amount "><br><br>
        <input type="text" id="Acno1" placeholder="Enter Your Acccount Number"><br><br>
        <button style="margin-left: 20%; background-color: rgb(77, 97, 141); color: white;" type="button" class="btn" onclick="Dep()">Deposit</button>
        <div id="result"></div>
        <div id="balance"></div>
        
    </div>
    <div class="withdraw">
        <h3 style="text-align: center;">WITHDRAW</h3>
        <input type="text" id="Amount2" placeholder="Enter Your Amount "><br><br>
        <input type="text" id="Acno2" placeholder="Enter Your Acccount Number"><br><br>
        <button  style="margin-left: 23%; background-color: rgb(77, 97, 141); color: white;" type="button" class="btn" onclick="With()">Withdraw</button>
        <div id="result2"></div>
    </div>
</div>
</body>
<script>



    function Dep(){

         let amount = parseFloat(document.getElementById('Amount1').value);
         x ={
            amount1 :Amount1.value,
            acno1 :Acno1.value
            
        }
        
        if(x.amount1 ==""|| x.acno1 ==""){
             alert('please fill missing fields')

        } else  if (isNaN(amount) || amount <= 0) {
        alert("Please enter a valid amount");
        return;

    } else if(Amount1.value>0){
       
        localStorage.setItem(x.acno1,JSON.stringify(x))
        let currentBalance = parseFloat(localStorage.getItem('balance')) || 0;
        currentBalance += amount;

            localStorage.setItem('balance', currentBalance);
            
            alert('successfully added');
            
            document.getElementById('result').innerHTML = `current balance: ${currentBalance}`
            
    }

  }
    function With(){
       
        y ={
            amount2 :Amount2.value,
            acno2 :Acno2.value
        }
        

        if(y.amount2 ==""|| y.acno2 ==""){
             alert('please fill missing fields')
        }else if(Acno1.value != Acno2.value){
          
          alert('Account number is invalid')

        
    }else if(Amount2.value <= 0) {
        alert("Please enter a valid amount");
        return;

    } else if(Acno1.value == Acno2.value ){
        let amount = parseFloat(document.getElementById('Amount2').value);
        let currentBalance = parseFloat(localStorage.getItem('balance')) || 0;
        let afterWithdrawal= currentBalance - amount
           
            alert(`Bank  balance before withdrawal: ${currentBalance} `)
            alert(`withdrawal Amount: ${amount}`)
            alert(`Bank balance after withdrawal: ${afterWithdrawal}`)     
             document.getElementById('result2').innerHTML = `current balance: ${afterWithdrawal}`

        } 

}
    
    function logout(){
        alert('You have been logged out')
        localStorage.clear()
        window.location='./home.html'
    }
   
</script>
</html>